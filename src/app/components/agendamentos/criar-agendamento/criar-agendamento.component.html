<section class="col-12 d-flex justify-content-end">
    <div class="container-formulario-criar-agendamento mt-5 col-12 d-flex flex-column align-items-between">
        <div class="nome-formulario">
            <h3 class="p-0 m-0">Cadastrar Agendamento</h3>
        </div>
        <form [formGroup]="formulario" class="formulario-criar-agendamento m-2 d-flex flex-column justify-content-between">
            <div class="d-flex flex-wrap">
                <div class="campo p-2 d-flex flex-column col-6">
                    <label for="medico">Médico:</label>
                    <select class="form-select" id="medico" formControlName="medico" (click)="capturarMedicoEspecialidade()">
                        <option value=""></option>
                        <option *ngFor="let medicoEspecialidade of listaMedicoEspecialidades; index as i" [value]="medicoEspecialidade.medico?.pessoa?.nome">{{ medicoEspecialidade.medico?.pessoa?.nome }}, {{ medicoEspecialidade.especialidade?.descricao }}</option>
                    </select>
                    <div class="mensagem_erro" *ngIf="formulario.get('medico')?.errors?.['required'] && formulario.get('medico')?.touched">Médico é obrigatório.</div>
                </div>

                <div class="campo p-2 d-flex flex-column col-6">
                    <label for="cliente">Cliente:</label>
                    <select class="form-select" id="cliente" formControlName="cliente" (click)="capturarCliente()">
                        <option value=""></option>
                        <option *ngFor="let cliente of listaClientes; index as i" [value]="cliente.pessoa.nome">
                            {{ cliente.pessoa.nome }}
                        </option>
                    </select>
                    <div class="mensagem_erro" *ngIf="formulario.get('cliente')?.errors?.['required'] && formulario.get('cliente')?.touched">Cliente é obrigatório.</div>
                </div>

                <div class="campo p-2 d-flex flex-column col-4">
                    <label for="dataConsulta">Data de Nascimento:</label>
                    <input type="date" id="dataConsulta" formControlName="dataConsulta" />
                    <div class="mensagem_erro" *ngIf="formulario.get('dataConsulta')?.errors?.['required'] && formulario.get('dataConsulta')?.touched">Data da consulta é obrigatória.</div>
                </div>

                <div class="campo p-2 d-flex flex-column col-4">
                    <label for="valor">Valor:</label>
                    <input type="number" id="valor" formControlName="valor" step="0.01" />
                    <div class="mensagem_erro" *ngIf="formulario.get('valor')?.errors?.['required'] && formulario.get('valor')?.touched">Valor da consulta é obrigatória.</div>
                    <div class="mensagem_erro" *ngIf="formulario.get('valor')?.errors?.['min'] && formulario.get('valor')?.touched">Digite um valor viável para o valor da consulta. Maior que 0.</div>
                    <div class="mensagem_erro" *ngIf="formulario.get('valor')?.errors?.['max'] && formulario.get('valor')?.touched">Digite um valor viável para o valor da consulta. Menor que 100000.</div>
                </div>
                <div class="campo p-2 d-flex flex-column col-4">
                    <label for="status">Status:</label>
                    <select class="form-select" id="status" formControlName="status">
                        <option value="ABERTA">Aberta</option>
                        <option value="ATENDIDA">Atendida</option>
                        <option value="CANCELADA">Cancelada</option>
                    </select>
                    <div class="mensagem_erro" *ngIf="formulario.get('status')?.errors?.['required'] && formulario.get('status')?.touched">Status é obrigatório.</div>
                </div>
            </div>
            <div class="d-flex justify-content-end">
                <button [disabled]="!formulario.valid" (click)="criarAgendamento()" class="btn salvar">Salvar</button>
                <button class="btn cancelar ml-2" (click)="limparCampos()">Cancelar</button>
            </div>
        </form>
    </div>
</section>
